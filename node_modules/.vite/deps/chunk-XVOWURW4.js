import {
  l
} from "./chunk-BQNFHU65.js";
import {
  i
} from "./chunk-NCP6KRCP.js";
import {
  require_isEqual
} from "./chunk-FCN444RH.js";
import {
  t
} from "./chunk-GTRWHYLN.js";
import {
  n
} from "./chunk-6W3EMI7P.js";
import {
  Box_default,
  Chip_default,
  Controller,
  FormControl_default,
  FormGroup_default,
  e,
  require_get
} from "./chunk-NOLI35SV.js";
import {
  require_react
} from "./chunk-2EXEP7CN.js";
import {
  __toESM
} from "./chunk-WXXH56N5.js";

// node_modules/@jeremyling/react-material-ui-form-builder/dist/es/StandardChipGroup.js
var import_get = __toESM(require_get());
var import_isEqual = __toESM(require_isEqual());
var import_react = __toESM(require_react());
var m = function() {
  return m = Object.assign || function(r) {
    for (var t3, o2 = 1, e3 = arguments.length; o2 < e3; o2++)
      for (var i3 in t3 = arguments[o2])
        Object.prototype.hasOwnProperty.call(t3, i3) && (r[i3] = t3[i3]);
    return r;
  }, m.apply(this, arguments);
};
var v = function(r, t3, o2) {
  if (o2 || 2 === arguments.length)
    for (var e3, i3 = 0, n2 = t3.length; i3 < n2; i3++)
      !e3 && i3 in t3 || (e3 || (e3 = Array.prototype.slice.call(t3, 0, i3)), e3[i3] = t3[i3]);
  return r.concat(e3 || Array.prototype.slice.call(t3));
};
function x(x2) {
  var b = x2.field, g = x2.methods, h = g.control;
  g.getValues;
  var j = g.setValue, y = g.trigger, C = g.formState.errors, k = x2.hideTitle, A = (0, import_react.useMemo)(function() {
    var r = b.options || [];
    return b.randomizeOptions && (r = t(b.options || [])), r.map(function(r2) {
      return l(r2, b.optionConfig);
    });
  }, [b.options, b.optionConfig]);
  function O(r, t3) {
    if (b.multiple) {
      var e3 = (t3 || []).findIndex(function(t4) {
        return (0, import_isEqual.default)(t4, r.value);
      });
      if (e3 > -1) {
        var i3 = v([], t3, true);
        return i3.splice(e3, 1), 0 === i3.length && (i3 = void 0), void j(b.attribute, i3);
      }
      j(b.attribute, v(v([], t3 || [], true), [r.value], false));
    } else {
      if ((0, import_isEqual.default)(t3, r.value))
        return void j(b.attribute, void 0);
      j(b.attribute, r.value);
    }
  }
  var P = function(r, t3, e3) {
    var i3, n2, a, l2;
    return l2 = r.multiple && Array.isArray(e3) ? e3 && e3.findIndex(function(r2) {
      return (0, import_isEqual.default)(r2, t3.value);
    }) > -1 : (0, import_isEqual.default)(e3, t3.value), m(m({ id: r.id || r.attribute, key: t3.key, label: t3.label, color: l2 ? "primary" : "default", variant: l2 ? "filled" : "outlined" }, r.props), { sx: m(m({ height: "auto", margin: "4px 8px 4px 0", borderRadius: "20px" }, null === (i3 = r.props) || void 0 === i3 ? void 0 : i3.sx), { "& .MuiChip-label": m({ padding: "8px" }, null === (n2 = r.labelProps) || void 0 === n2 ? void 0 : n2.style) }), onClick: (null === (a = r.props) || void 0 === a ? void 0 : a.onClick) ? r.props.onClick(t3, e3) : function() {
      return O(t3, e3);
    } });
  }, T = function(r) {
    var o2;
    return m(m({ error: !!(0, import_get.default)(C, r.attribute), onBlur: function() {
      return y(r.attribute);
    } }, r.groupContainerProps), { sx: m({ flexWrap: "wrap" }, null === (o2 = r.groupContainerProps) || void 0 === o2 ? void 0 : o2.sx) });
  };
  return e.exports.jsx(Controller, { name: b.attribute, control: h, render: function(o2) {
    var e3, n2 = o2.field;
    return e.exports.jsxs(import_react.Fragment, { children: [!k && b.title && e.exports.jsx(n, { field: b }), e.exports.jsxs(FormGroup_default, { children: [e.exports.jsx(FormControl_default, m({ component: "fieldset" }, T(b), { children: A.map(function(t3, o3) {
      return e.exports.jsx(Box_default, { children: e.exports.jsx(Chip_default, m({}, P(b, t3, n2.value))) }, b.attribute + "-" + o3);
    }) })), !!(0, import_get.default)(C, b.attribute) && e.exports.jsx(i, { error: null === (e3 = (0, import_get.default)(C, b.attribute)) || void 0 === e3 ? void 0 : e3.message })] })] });
  } });
}

export {
  x
};
//# sourceMappingURL=chunk-XVOWURW4.js.map
