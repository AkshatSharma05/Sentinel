{
  "version": 3,
  "sources": ["../../@jeremyling/react-material-ui-form-builder/dist/es/StandardFileUpload.js"],
  "sourcesContent": ["import{j as e}from\"./jsx-runtime-53cdfd8f.js\";import i from\"lodash/get\";import{useState as r,useMemo as t}from\"react\";import{Controller as o}from\"react-hook-form\";import{Typography as n,ButtonBase as l}from\"@mui/material\";import{styled as a}from\"@mui/material/styles\";import{E as s}from\"./ErrorText-a1dab7b9.js\";import{T as d}from\"./Title-61b3472c.js\";var u=\"image\",p=function(){return p=Object.assign||function(e){for(var i,r=1,t=arguments.length;r<t;r++)for(var o in i=arguments[r])Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);return e},p.apply(this,arguments)},c=[\".pdf\",\".doc\",\".docx\",\".xml\",\"application/msword\",\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\".xls\",\".xlsx\",\".csv\",\"image/*\",\"audio/*\",\"video/*\"];function f(e){return e.flatMap((function(e){return Array.isArray(e)?f(e):e}))}var m=a(\"div\")((function(e){var i,r,t=e.fieldConfig;return{display:\"inline-block\",position:\"relative\",width:(null===(i=t.imageSize)||void 0===i?void 0:i[0])||void 0,height:(null===(r=t.imageSize)||void 0===r?void 0:r[1])||void 0}})),v=a(\"div\")((function(e){var i,r,t,o,n=e.fieldConfig;return{marginTop:\"\".concat(Number((null===(i=n.imageSize)||void 0===i?void 0:i[1])||(null===(r=n.aspectRatio)||void 0===r?void 0:r[1])||1)/Number((null===(t=n.imageSize)||void 0===t?void 0:t[0])||(null===(o=n.aspectRatio)||void 0===o?void 0:o[0])||1)*100,\"%\")}})),x=a(\"div\")((function(){return{position:\"absolute\",top:0,bottom:0,right:0,left:0}})),g=a(\"img\")((function(){return{width:\"100%\",height:\"100%\",objectFit:\"contain\"}})),h=a(n)((function(e){return{textAlign:\"start\",borderRadius:\"4px\",padding:\"7px 10px\",color:\"rgba(0, 0, 0, 0.87)\",overflow:\"hidden\",whiteSpace:\"nowrap\",margin:e.theme.spacing(1,0)}})),b=a(l)((function(){return{width:\"100%\",display:\"block\"}}));function j(n){var l=n.field,a=n.methods,j=a.control;a.getValues;var y=a.setValue,T=a.trigger,U=a.formState.errors,w=n.hideTitle,z=r([]),S=z[0],C=z[1],A=t((function(){return l.maxSizeMb||2}),[l.maxSizeMb]),O=t((function(){return(e=l.acceptTypes)&&\"string\"==typeof e.valueOf()?l.acceptTypes:Array.isArray(l.acceptTypes)?f(l.acceptTypes).join(\",\"):c.join(\",\");var e}),[l.acceptTypes]),R=function(e){if(!e||e.length<1)C([\"Nothing selected\"]);else{for(var i={files:[],imageUrls:[]},r=[],t=0,o=Array.from(e);t<o.length;t++){var n=o[t];if(n.size>1024*A*1024)r.push((n.name||\"File\")+\" should be less than \"+A+\" MB\");else if(i.files.push(n),l.fileType===u){var a=URL.createObjectURL(n);i.imageUrls.push(a)}}l.multiple||(i={files:[i.files[0]],imageUrls:[i.imageUrls[0]]}),y(l.attribute,i),C(r)}},F=function(e){return p({id:e.id||e.attribute,type:\"file\",hidden:!0,multiple:!1,accept:O,onChange:function(e){return R(e.target.files)}},e.props)};return e.exports.jsx(o,{name:l.attribute,control:j,render:function(r){var t,o,n,a,c,f=r.field;return e.exports.jsxs(e.exports.Fragment,{children:[!w&&l.title&&e.exports.jsx(d,{field:l}),e.exports.jsx(\"input\",p({},F(l))),e.exports.jsx(\"label\",p({htmlFor:l.id||l.attribute,onBlur:function(){return T(l.attribute)}},{children:(null===(o=null===(t=f.value)||void 0===t?void 0:t.files)||void 0===o?void 0:o.length)>0?f.value.files.map((function(r,t){var o,n;return e.exports.jsxs(b,p({component:\"div\"},{children:[l.fileType===u&&(null===(o=f.value.imageUrls)||void 0===o?void 0:o.length)>0&&e.exports.jsxs(m,p({fieldConfig:l},{children:[e.exports.jsx(v,{fieldConfig:l}),e.exports.jsx(x,{children:e.exports.jsx(g,{src:null===(n=f.value.imageUrls)||void 0===n?void 0:n[t],alt:r.name,loading:\"lazy\"})})]})),e.exports.jsx(h,p({sx:{border:function(e){return\"1px solid \".concat(i(U,l.attribute)?e.palette.error.main:\"#b9b9b9\")}}},{children:r.name||r}))]}),t)})):e.exports.jsxs(b,p({component:\"div\"},{children:[l.fileType===u&&(null===(n=l.imageUrls)||void 0===n?void 0:n[0])&&e.exports.jsxs(m,p({fieldConfig:l},{children:[e.exports.jsx(v,{fieldConfig:l}),e.exports.jsx(x,{children:e.exports.jsx(g,{src:l.imageUrls[0],alt:l.label,loading:\"lazy\"})})]})),e.exports.jsx(h,p({sx:{color:\"#777777\",border:function(e){return\"1px solid \".concat(i(U,l.attribute)?e.palette.error.main:\"#b9b9b9\")}}},{children:(null===(a=l.imageUrls)||void 0===a?void 0:a[0])||l.label}))]}))})),!!i(U,l.attribute)&&e.exports.jsx(s,{error:null===(c=i(U,l.attribute))||void 0===c?void 0:c.message}),(null==S?void 0:S.length)>0&&e.exports.jsx(s,{error:S[0]})]})}})}export{j as default};\n"],
  "mappings": "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",
  "names": ["e", "i", "r", "t", "n", "j", "a", "c", "f", "o"]
}
