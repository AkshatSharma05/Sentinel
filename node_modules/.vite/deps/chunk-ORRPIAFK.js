import {
  require_isEqual
} from "./chunk-FCN444RH.js";
import {
  t
} from "./chunk-GTRWHYLN.js";
import {
  n
} from "./chunk-6W3EMI7P.js";
import {
  Autocomplete_default,
  Chip_default,
  Controller,
  TextField_default,
  e,
  require_get,
  require_isObject
} from "./chunk-NOLI35SV.js";
import {
  require_react
} from "./chunk-2EXEP7CN.js";
import {
  __toESM
} from "./chunk-WXXH56N5.js";

// node_modules/@jeremyling/react-material-ui-form-builder/dist/es/StandardAutocomplete.js
var import_react = __toESM(require_react());
var import_get = __toESM(require_get());
var import_isEqual = __toESM(require_isEqual());
var import_isObject = __toESM(require_isObject());
function m(r2, t3, o2) {
  var e2 = r2;
  if (!t3)
    return e2;
  if (t3.value)
    if (o2 && Array.isArray(r2)) {
      for (var i2 = [], u = 0, l = r2; u < l.length; u++) {
        var s = l[u];
        (0, import_isObject.default)(s) ? i2.push((0, import_get.default)(s, t3.value)) : i2.push(s);
      }
      e2 = i2;
    } else
      e2 = (0, import_get.default)(r2, t3.value);
  return e2;
}
function v(r2, t3, o2, e2) {
  if (!o2)
    return String(r2);
  if ((0, import_isObject.default)(r2))
    return String((0, import_get.default)(r2, o2.label));
  if (null == o2 ? void 0 : o2.value) {
    var i2 = t3.find(function(t4) {
      return m(t4, o2, e2) === r2;
    }) || {};
    return String((0, import_get.default)(i2, o2.label));
  }
  return String(r2 || "");
}
var c = function() {
  return c = Object.assign || function(r2) {
    for (var t3, o2 = 1, e2 = arguments.length; o2 < e2; o2++)
      for (var n3 in t3 = arguments[o2])
        Object.prototype.hasOwnProperty.call(t3, n3) && (r2[n3] = t3[n3]);
    return r2;
  }, c.apply(this, arguments);
};
function g(g2) {
  var b = g2.field, h = g2.methods, x = h.control;
  h.getValues;
  var j = h.setValue, C = h.trigger, O = h.formState.errors, y = g2.hideTitle, S = (0, import_react.useState)();
  S[0];
  var T = S[1], z = function(r2, t3) {
    var o2 = r2 || [];
    return t3 && (o2 = t(o2)), o2;
  }(b.options, b.randomizeOptions);
  function P(r2, t3) {
    var u, l, p, d = (null === (u = r2.props) || void 0 === u ? void 0 : u.multiple) || false;
    null === (l = r2.props) || void 0 === l || l.disableClearable, null === (p = r2.props) || void 0 === p || p.freeSolo;
    var g3 = c(c({ id: r2.id || r2.attribute, size: "small", fullWidth: true, isOptionEqualToValue: function(t4, o2) {
      return (0, import_isObject.default)(o2) ? (0, import_isEqual.default)(m(t4, r2.optionConfig, d), m(o2, r2.optionConfig, d)) : m(t4, r2.optionConfig, d) === o2;
    }, getOptionLabel: function(t4) {
      return v(t4, z, r2.optionConfig);
    }, onChange: function(t4, o2) {
      j(r2.attribute, m(o2, r2.optionConfig, d));
    }, onBlur: function() {
      T(false), C(r2.attribute);
    }, onFocus: function() {
      return T(true);
    }, value: t3 || (d ? [] : "") }, r2.props), { options: z, renderInput: function(t4) {
      var o2;
      return e.exports.jsx(TextField_default, c({}, t4, { variant: "outlined", size: "small", inputProps: c(c({}, t4.inputProps), { autoComplete: "off" }), label: r2.label, error: !!(0, import_get.default)(O, r2.attribute), helperText: null === (o2 = (0, import_get.default)(O, r2.attribute)) || void 0 === o2 ? void 0 : o2.message }));
    } });
    return d && (g3 = c(c({}, g3), { renderTags: function(t4, e2) {
      return t4.map(function(t5, n3) {
        return (0, import_react.createElement)(Chip_default, c({ variant: "outlined", size: "small", label: v(t5, z, r2.optionConfig) }, e2({ index: n3 }), { key: n3 }));
      });
    } })), g3;
  }
  return e.exports.jsx(Controller, { name: b.attribute, control: x, render: function(r2) {
    var o2 = r2.field;
    return e.exports.jsxs(import_react.Fragment, { children: [!y && b.title && e.exports.jsx(n, { field: b }), e.exports.jsx(Autocomplete_default, c({}, P(b, o2.value)))] });
  } });
}

export {
  g
};
//# sourceMappingURL=chunk-ORRPIAFK.js.map
